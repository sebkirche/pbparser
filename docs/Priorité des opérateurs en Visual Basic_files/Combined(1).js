if(typeof console=="undefined"){var noop=function(){};console={debug:noop,log:noop,warn:noop,assert:noop,clear:noop,dir:noop,error:noop,info:noop}}epx=window.epx||{},epx.utilities=function(){function htmlEncode(value){return $("<div/>").text(value).html()}function htmlDecode(value){return $("<div/>").html(value).text()}function endsWith(string,suffix){return!string||!suffix||string.length<suffix.length?!1:string.indexOf(suffix,string.length-suffix.length)!==-1}function padLeft(integer,width){if(!integer||!width||width<=1)return integer;for(integer=integer+"";integer.length<width;)integer="0"+integer;return integer}function log(message){!message||message.length<1||console.log(getDateTime()+" : "+message)}function getDateTime(date){return date||(date=new Date),padLeft(date.getFullYear(),4)+"-"+padLeft(date.getMonth()+1,2)+"-"+padLeft(date.getDate(),2)+" "+padLeft(date.getHours(),2)+":"+padLeft(date.getMinutes(),2)+":"+padLeft(date.getSeconds(),2)+":"+padLeft(date.getMilliseconds(),3)}function setCookie(name,value,expires,path,domain,secure){var today=new Date,expiresDate;today.setTime(today.getTime()),expires&&(expires=expires*864e5),expiresDate=new Date(today.getTime()+expires),document.cookie=name+"="+escape(value)+(expires?";expires="+expiresDate.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")}function getCookie(sName,defaultValue){for(var aCookie=document.cookie.split("; "),aCrumb,i=0;i<aCookie.length;i++)if(aCrumb=aCookie[i].split("="),sName===aCrumb[0])return unescape(aCrumb[1]);return defaultValue}function supportsHtml5(){return!(typeof localStorage=="undefined"||typeof JSON=="undefined")}function isCurrentPage(pathname){return pathname.substring(1,0)!=="/"&&(pathname="/"+pathname),pathname===window.location.pathname}return{htmlEncode:htmlEncode,htmlDecode:htmlDecode,endsWith:endsWith,padLeft:padLeft,log:log,getDateTime:getDateTime,setCookie:setCookie,getCookie:getCookie,supportsHtml5:supportsHtml5,isCurrentPage:isCurrentPage}}();;
Epx=window.Epx||{},Epx.Controls=window.Epx.Controls||{},Epx.Controls.SearchBox=function(){function watermarkFocus(control,defaultValue,cssValue){control.value==defaultValue&&(control.value=""),control.className=cssValue,document.onkeydown=""}function watermarkBlur(control,defaultValue,cssValue){control.value==""&&(control.value=defaultValue,control.className=cssValue),document.onkeydown=presskey}function watermarkOnSubmit(control,defaultValue,cssValue){control.value==defaultValue&&(control.value="",control.className=cssValue)}function searchBoxOnSubmit(control,textValue){var $textbox=control.elements.query.value;return $textbox!=textValue&&$textbox!=""?(control.submit(),!0):!1}function presskey(evt){if(evt=evt?evt:event?event:null,evt&&evt.keyCode==84){var target=evt.srcElement!=null?evt.srcElement:evt.target;if(target.tagName.toLowerCase()=="input"||target.tagName.toLowerCase()=="textarea"||evt.ctrlKey||evt.altKey)return}}return{watermarkFocus:watermarkFocus,watermarkBlur:watermarkBlur,watermarkOnSubmit:watermarkOnSubmit,searchBoxOnSubmit:searchBoxOnSubmit}}();;
